(()=>{"use strict";var e={d:(n,t)=>{for(var i in t)e.o(t,i)&&!e.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:t[i]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{Z:()=>c});const n="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/0tY3ZECsTgObPiElFJSy/likes",t=async e=>{const n=document.createElement("section");n.className="popUp";const t=await c(e.id);n.innerHTML=`\n     <div class="w-100 container">\n         <i class="cancel-pop fa fa-times"></i>\n        <div class="w-75 container d-flex justify-content-center align-items-center flex-column">\n          <div class="pop-img"><img class="w-100 h-100" src="${t.image.original}" alt="popUp" /></div>\n          <div class="pop-info d-flex flex-columm">\n            <div class="d-flex justify-content-between">\n              <div>\n              <span>Genres</span>\n                <ul>\n\n                </ul>\n              </div>\n              <div></div>\n            </div>\n            <div class="d-flex justify-content-between"> </div>\n          </div>\n\n         <form >\n         <h2 classs="">Add a comment<h2>\n             <input type="text" class="form-control input-name" placeholder="Your Name">\n             <textarea class="form-control input-comment" placeholder=" Your Comment"> </textarea>\n            <button type="submit" class="btn btn-primary">Comment</button>\n         </form>\n        </div>\n    </div> `;const i=document.querySelector("main"),a=n.querySelector(".cancel-pop"),s=n.querySelector("form");((e,n)=>{n.addEventListener("submit",(n=>{const t=document.querySelector(".input-name"),i=document.querySelector(".input-comment"),a={item_id:e,username:t.value,comment:i.value};n.preventDefault(),(async e=>{(await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/0tY3ZECsTgObPiElFJSy/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).text()})(a)}))})(list.id,s),i.appendChild(n),a.addEventListener("click",(()=>{i.removeChild(n)}))},i=async e=>{const n=fetch(`https://api.tvmaze.com/shows/${e}`);return(await n).json()},a=async(e,n)=>{const t=await e,i=t.image.original,a=t.name,c=document.querySelectorAll(".img"),s=document.querySelectorAll(".name"),o=document.querySelectorAll(".hour"),l=document.querySelectorAll(".time"),r=document.querySelectorAll(".description"),m=document.querySelectorAll(".item");c[n-1].setAttribute("src",i),s[n-1].innerHTML=a,m[n-1].id=t.id,o[n-1].innerHTML=t.schedule.time,l[n-1].innerHTML=`${t.schedule.days[0]} ${t.premiered}`,r[n-1].innerHTML+=t.summary};window.addEventListener("load",(()=>{for(let e=1;e<7;e+=1){const n=i(e);document.querySelector("#list").innerHTML+='<li class="item"><img class="img">\n            <div class="title pr-3 py-3 d-flex justify-content-start">\n                <h2 class="name"></h2>\n                <a class="likes ml-auto">\n                    <i class="fa fa-heart-o"></i>\n                </a>\n                <p class="likesNum pl-2">0</p>\n            </div>\n            <button type="button" class="comment"> \n              <i class="fa fa-comments" aria-hidden="true"></i> Comments \n            </button>\n            <div class="addition-info d-flex px-3 py-2">\n             <span>\n              <i class="fa fa-clock-o" aria-hidden="true"></i> \n              <span class="hour"></span>\n             </span>\n             <span class="time ml-auto"></span>\n              </div>\n              <div class="description">\n                <h6>Sumary:</h6>\n              </div>\n\n        </li>',a(n,e)}(async e=>{const n=await e,t=document.querySelectorAll(".name");n.forEach((e=>{t.forEach((n=>{e.item_id===n.innerHTML&&(n.parentElement.querySelector("p").innerHTML=e.likes)}))}))})((async()=>{const e=fetch(n);return(await e).json()})()),document.querySelectorAll(".likes").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector("h2").innerHTML;e.querySelector("i").classList.remove("fa-heart-o"),e.querySelector("i").classList.add("fa-heart"),(async e=>{fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:e})}),function(e){document.querySelectorAll(".name").forEach((n=>{if(n.innerHTML===e){const e=n.parentElement.querySelector("p");let t=parseInt(e.innerHTML,10);t+=1,e.innerHTML=t}}))}(e)})(t)}))})),document.querySelectorAll(".comment").forEach((e=>{e.addEventListener("click",(()=>{const n=e.parentElement;t(n)}))}))}));const c=i})();